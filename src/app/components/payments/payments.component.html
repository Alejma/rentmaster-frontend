<app-navbar></app-navbar>

<div class="container mt-4">
  <h2>Administración de Pagos</h2>

  <div class="row">
    <!-- Lista de pagos -->
    <div class="col-md-6">
      <h3>Lista de pagos</h3>
      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>ID Arrendatario</th>
            <th>Monto</th>
            <th>Fecha de pago</th>
            <th>Metodo de pago</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let payment of Payments">
            <td>{{ payment.payment_id }}</td>
            <td>{{ payment.tenant_id }}</td>
            <td>{{ payment.amount }}</td>
            <td>{{ payment.payment_date | date:'short' }}</td>
            <td>{{ payment.payment_method }}</td>
            <td>{{ payment.status }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Formulario para agregar pago -->
    <div class="col-md-6">
      <form [formGroup]="paymentForm" (ngSubmit)="addPayment()">
        <h3>Agregar Pago</h3>
        <div class="mb-3">
          <label for="tenant_id" class="form-label">Arrendatario</label>
          <select id="tenant_id" class="form-select" formControlName="tenant_id" required>
            <option *ngFor="let tenant of tenants" [value]="tenant.tenant_id">
              {{ tenant.name }}
            </option>
          </select>
        </div>
        <div class="mb-3">
          <label for="amount" class="form-label">Monto</label>
          <input type="number" id="amount" class="form-control" formControlName="amount" required>
        </div>
        <div class="mb-3">
          <label for="payment_date" class="form-label">Fecha de pago</label>
          <input type="date" id="payment_date" class="form-control" formControlName="payment_date">
        </div>
        <div class="mb-3">
          <label for="payment_method" class="form-label">Método de Pago</label>
          <input type="text" id="payment_method" class="form-control" formControlName="payment_method">
        </div>
        <div class="mb-3">
          <label for="status" class="form-label">Estado</label>
          <input type="text" id="status" class="form-control" formControlName="status" required>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="!paymentForm.valid">Agregar Pago</button>
      </form>
    </div>
  </div>
</div>
